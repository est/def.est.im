---
import BaseLayout from '../layouts/BaseLayout.astro';
import WordCard from '../components/WordCard.astro';
import MeaningsSection from '../components/MeaningsSection.astro';
---

<BaseLayout title="def.est.im">
  <WordCard 
    word=""
    ipa=""
    conjugates=""
    etymology=""
    since=""
    register=""
  />

  <main class="main">
    <section>
      <h2>释义</h2>
      <div>
        <template x-for="meaning in MEANINGS">
          <article class="row">
            <div class="col-a">
              <div class="pos" x-text="meaning.PATTERN"></div>
              <div class="grammar">
                <span class="hint" x-bind:data-tooltip="meaning.POS_TIP" x-text="meaning.POS"></span>
              </div>
              <div class="tags">
                <template x-for="tag in meaning.TAGS">
                  <span class="tag" x-text="tag"></span>
                </template>
              </div>
            </div>

            <div class="col-b">
              <div class="definition" x-text="meaning.DEF_EN"></div>
              <div class="def-other" x-text="meaning.DEF_ZH"></div>
              <div style="height:6px"></div>
              <div>
                <div class="example" x-text="meaning.SENT_EN"></div>
                <div class="translation" x-text="meaning.SENT_ZH"></div>
              </div>
            </div>

            <div class="col-c">
              <template x-for="related in meaning.RELATED" :key="related.T">
                <div>
                  <span x-text="related.T + ': '"></span>
                  <div class="related-words">
                    <template x-for="word in related.V">
                      <a x-bind:href="'/' + word" x-text="word" @click.prevent="WORD=word; refresh()"></a>
                    </template>
                  </div>
                </div>
              </template>
            </div>
          </article>
        </template>
      </div>
    </section>

    <section>
      <h2>使用</h2>
      <div style="color:var(--muted);line-height:1.6">
        <p><strong>Register:</strong> <span x-text="REGISTER"></span></p>
      </div>
    </section>

    <section>
      <h2>注意</h2>
      <div style="color:var(--muted);line-height:1.6">
        <p>本词典由AI撰写。仅供参考。 <a href="https://github.com/est/def.est.im">Github</a> | <a href="https://blog.est.im/2025/stdout-12">Blog</a></p>
      </div>
    </section>
  </main>
</BaseLayout>
